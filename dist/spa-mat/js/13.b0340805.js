(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[13],{"+SHl":function(e,o,t){"use strict";t.r(o);var s=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("q-page",{staticClass:"row",staticStyle:{padding:"0"}},[t("q-page-sticky",{attrs:{position:"top-left",offset:[12,12]}},[t("q-btn-toggle",{attrs:{"toggle-color":"primary",options:[{label:"Lista",value:"one"},{label:"Cadastro",value:"two"}]},model:{value:e.visible,callback:function(o){e.visible=o},expression:"visible"}})],1),t("q-card",{directives:[{name:"show",rawName:"v-show",value:"one"===e.visible,expression:"visible==='one'"}],staticClass:"col responsive"},[t("q-card-title",{staticClass:"text-right"},[e._v("\n          Lista Horarios\n        ")]),t("q-card-separator"),t("div",{staticClass:"fit"},[t("q-table",{ref:"table",attrs:{data:e.serverData,columns:e.columns,filter:e.filter,"filter-method":e.myFilter,loading:e.loading,selection:"single"},scopedSlots:e._u([{key:"body",fn:function(o){return[t("q-tr",{attrs:{props:o}},[t("q-td",{attrs:{"auto-width":""}}),t("q-td",{key:"nome",attrs:{props:o}},[e._v(e._s(o.row.nome))]),t("q-td",{key:"fechamento",attrs:{props:o}},[e._v(e._s(o.row.fechamento))]),t("q-td",{key:"edit",attrs:{props:o}},[t("q-btn",{attrs:{flat:"",round:"",dense:"",dark:"",icon:"edit"},on:{click:function(t){e.atualizaModel(o.row)}}}),t("q-btn",{attrs:{flat:"",round:"",dense:"",dark:"",icon:"delete"},on:{click:function(t){e.excluiModel(o.row.id)}}})],1)],1)]}}])})],1)],1),t("q-card",{directives:[{name:"show",rawName:"v-show",value:"two"===e.visible,expression:"visible==='two'"}],staticClass:"col responsive"},[t("q-card-title",{staticClass:"text-right"},[e._v("\n    Cadastro\n    ")]),t("q-card-separator"),t("div",{staticClass:"row q-pa-lg gutter-sm justify-center"},[t("div",{staticClass:"col-12"},[t("q-field",{attrs:{count:75,helper:"Nome do Horário","error-label":"Some error"}},[t("q-input",{attrs:{"float-label":"Nome",maxlength:"75"},model:{value:e.modelo.nome,callback:function(o){e.$set(e.modelo,"nome",o)},expression:"modelo.nome"}})],1)],1),t("div",{staticClass:"col-xs-12 col-sm-6"},[t("q-field",{attrs:{count:2,helper:"Horário que o dia termina","error-label":"Some error"}},[t("q-input",{directives:[{name:"mask",rawName:"v-mask",value:"##",expression:"'##'"}],attrs:{"float-label":"Fechamento",maxlength:"2"},model:{value:e.modelo.fechamento,callback:function(o){e.$set(e.modelo,"fechamento",o)},expression:"modelo.fechamento"}})],1)],1)]),t("div",{staticClass:"row q-pa-lg gutter-sm justify-center wrap"},[t("div",{staticClass:"col-auto inline"},[t("q-field",{staticClass:"inline",attrs:{helper:"Normal","error-label":"Assinalado",error:e.modelo.assinaladosView[0].teste},on:{"update:error":function(o){e.$set(e.modelo.assinaladosView[0],"teste",o)}}},[t("q-datetime",{staticStyle:{"font-size":"6sp"},attrs:{type:"time"},model:{value:e.modelo.horarios[0],callback:function(o){e.$set(e.modelo.horarios,0,o)},expression:"modelo.horarios[0]"}})],1),t("q-btn",{staticClass:"inline",attrs:{round:"",size:"xs",icon:"chevron_left",color:"teal"},on:{click:function(o){e.mudaEstado(0)}}})],1),t("div",{staticClass:"col-auto inline"},[t("q-field",{staticClass:"inline",attrs:{helper:"Normal","error-label":"Assinalado",error:e.modelo.assinaladosView[1].teste},on:{"update:error":function(o){e.$set(e.modelo.assinaladosView[1],"teste",o)}}},[t("q-datetime",{staticStyle:{"font-size":"6sp"},attrs:{type:"time"},model:{value:e.modelo.horarios[1],callback:function(o){e.$set(e.modelo.horarios,1,o)},expression:"modelo.horarios[1]"}})],1),t("q-btn",{staticClass:"inline",attrs:{round:"",size:"xs",icon:"chevron_left",color:"teal"},on:{click:function(o){e.mudaEstado(1)}}})],1),t("div",{staticClass:"col-auto inline"},[t("q-field",{staticClass:"inline",attrs:{helper:"Normal","error-label":"Assinalado",error:e.modelo.assinaladosView[2].teste}},[t("q-datetime",{staticStyle:{"font-size":"6sp"},attrs:{type:"time"},model:{value:e.modelo.horarios[2],callback:function(o){e.$set(e.modelo.horarios,2,o)},expression:"modelo.horarios[2]"}})],1),t("q-btn",{staticClass:"inline",attrs:{round:"",size:"xs",icon:"chevron_left",color:"teal"},on:{click:function(o){e.mudaEstado(2)}}})],1),t("div",{staticClass:"col-auto inline"},[t("q-field",{staticClass:"inline",attrs:{helper:"Normal","error-label":"Assinalado",error:e.modelo.assinaladosView[3].teste}},[t("q-datetime",{staticStyle:{"font-size":"6sp"},attrs:{type:"time"},model:{value:e.modelo.horarios[3],callback:function(o){e.$set(e.modelo.horarios,3,o)},expression:"modelo.horarios[3]"}})],1),t("q-btn",{staticClass:"inline",attrs:{round:"",size:"xs",icon:"chevron_left",color:"teal"},on:{click:function(o){e.mudaEstado(3)}}})],1),t("div",{staticClass:"col-auto inline"},[t("q-field",{staticClass:"inline",attrs:{helper:"Normal","error-label":"Assinalado",error:e.modelo.assinaladosView[4].teste}},[t("q-datetime",{staticStyle:{"font-size":"6sp"},attrs:{type:"time"},model:{value:e.modelo.horarios[4],callback:function(o){e.$set(e.modelo.horarios,4,o)},expression:"modelo.horarios[4]"}})],1),t("q-btn",{staticClass:"inline",attrs:{round:"",size:"xs",icon:"chevron_left",color:"teal"},on:{click:function(o){e.mudaEstado(4)}}})],1),t("div",{staticClass:"col-auto inline"},[t("q-field",{staticClass:"inline",attrs:{helper:"Normal","error-label":"Assinalado",error:e.modelo.assinaladosView[5].teste}},[t("q-datetime",{staticStyle:{"font-size":"6sp"},attrs:{type:"time"},model:{value:e.modelo.horarios[5],callback:function(o){e.$set(e.modelo.horarios,5,o)},expression:"modelo.horarios[5]"}})],1),t("q-btn",{staticClass:"inline",attrs:{round:"",size:"xs",icon:"chevron_left",color:"teal"},on:{click:function(o){e.mudaEstado(5)}}})],1),t("div",{staticClass:"col-auto inline"},[t("q-field",{staticClass:"inline",attrs:{helper:"Normal","error-label":"Assinalado",error:e.modelo.assinaladosView[6].teste}},[t("q-datetime",{staticStyle:{"font-size":"6sp"},attrs:{type:"time"},model:{value:e.modelo.horarios[6],callback:function(o){e.$set(e.modelo.horarios,6,o)},expression:"modelo.horarios[6]"}})],1),t("q-btn",{staticClass:"inline",attrs:{round:"",size:"xs",icon:"chevron_left",color:"teal"},on:{click:function(o){e.mudaEstado(6)}}})],1),t("div",{staticClass:"col-auto inline"},[t("q-field",{staticClass:"inline",attrs:{helper:"Normal","error-label":"Assinalado",error:e.modelo.assinaladosView[7].teste}},[t("q-datetime",{staticStyle:{"font-size":"6sp"},attrs:{type:"time"},model:{value:e.modelo.horarios[7],callback:function(o){e.$set(e.modelo.horarios,7,o)},expression:"modelo.horarios[7]"}})],1),t("q-btn",{staticClass:"inline",attrs:{round:"",size:"xs",icon:"chevron_left",color:"teal"},on:{click:function(o){e.mudaEstado(7)}}})],1)]),t("div",{staticClass:"row q-pa-lg gutter-sm justify-center"},[t("div",{staticClass:"col-4"},[t("q-btn",{staticClass:"fit",attrs:{color:"primary"},on:{click:e.submit}},[e._v("Gravar")])],1),t("div",{staticClass:"col-4"},[t("q-btn",{staticClass:"fit",attrs:{color:"secondary"},on:{click:e.clear}},[e._v("Limpar")])],1)])],1)],1)},a=[];s._withStripped=!0;var i=t("vDqi"),l=t.n(i),n=t("4IOb"),r={data:function(){return{funcLoad:!0,localLoad:!0,locais:[],url:"",text:"",visible:"one",responsaveis:[],modelo:{nome:"",fechamento:"",inicio:n["date"].formatDate(Date.now(),"YYYY-MM-DDTHH:mm:ss.SSSZ"),fim:null,horarios:["","","","","","","",""],assinalados:[],assinaladosView:[{teste:!1},{teste:!1},{teste:!1},{teste:!1},{teste:!1},{teste:!1},{teste:!1},{teste:!1}]},filter:"",loading:!1,serverPagination:{page:1,rowsNumber:10},serverData:[],columns:[{name:"nome",label:"Nome",field:"nome",align:"left"},{name:"fechamento",label:"Descrição",field:"descricao",align:"left"},{name:"edit",label:"Ação",align:"right",field:"edit"}]}},computed:{buttonColor:function(){return this.$q.screen.lt.md?"primary":"secondary"}},methods:{mudaEstado:function(e){this.modelo.assinaladosView[e].teste=!this.modelo.assinaladosView[e].teste},toggleVisibility:function(){this.visible=!this.visible},submit:function(){var e=this;this.modelo.assinalados=[];for(var o=0;o<this.modelo.assinaladosView.length;o++)this.modelo.assinalados.push(this.modelo.assinaladosView[o].teste);l()({baseURL:this.modelo.id?"https://estagio-back.herokuapp.com//horario/"+this.modelo.id:"https://estagio-back.herokuapp.com//horario",timeout:1e4,method:this.modelo.id?"PUT":"POST",withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json"},data:JSON.stringify(this.modelo)}).then(function(o){e.request(),console.log(o),e.$q.notify({color:"positive",position:"top",message:"Gravado com sucesso",icon:"report_problem"}),e.clear()}).catch(function(o){o.response?(console.log(o.response.data),console.log(o.response.status),console.log(o.response.headers)):o.request?console.log(o.request):console.log("Error",o.message),console.log(o.config),e.$q.notify({color:"negative",position:"top",message:"Erro ao gravar",icon:"report_problem"})})},getlocal:function(){var e=this;l()({method:"get",url:"https://estagio-back.herokuapp.com//local",headers:{"content-Type":"application/json",Accept:"application/json"}}).then(function(o){e.locais=[];for(var t=JSON.parse(JSON.stringify(o.data)),s=0;s<t.length;s++){var a=t[s];e.locais.push({label:a.nome,value:a})}e.funcLoad=!1})},getresponsavel:function(){var e=this;l()({method:"get",url:"https://estagio-back.herokuapp.com//funcionario",headers:{"content-Type":"application/json",Accept:"application/json"}}).then(function(o){e.responsaveis=[];for(var t=JSON.parse(JSON.stringify(o.data)),s=0;s<t.length;s++){var a=t[s];e.responsaveis.push({label:a.nome,value:a})}e.funcLoad=!1})},clear:function(){this.modelo={nome:"",fechamento:"",inicio:n["date"].formatDate(Date.now(),"YYYY-MM-DDTHH:mm:ss.SSSZ"),fim:null,horarios:["","","","","","","",""],assinalados:[],assinaladosView:[{teste:!1},{teste:!1},{teste:!1},{teste:!1},{teste:!1},{teste:!1},{teste:!1},{teste:!1}]},this.$q.notify({color:"positive",position:"top",message:"Formulário limpo",icon:"report_problem"}),console.log(this.modelo)},fetchData:function(){},request:function(){var e=this;this.loading=!0,l.a.get("https://estagio-back.herokuapp.com//horario").then(function(o){e.serverData=JSON.parse(JSON.stringify(o.data)),e.loading=!1}).catch(function(o){e.serverData=[{razao:"teste",cnpj:"1"}],console.log(o),e.loading=!1})},myFilter:function(e,o,t,s){var a=o?o.toLowerCase():"";return e.filter(function(e){return t.some(function(o){return-1!==(s(o,e)+"").toLowerCase().indexOf(a)})})},atualizaModel:function(e){this.visible="two",this.modelo.id=e.id,this.modelo.nome=e.nome,this.modelo.fechamento=e.fechamento,this.inicio=e.inicio,this.fim=e.fim;for(var o=0;o<e.horarios.length;o++)this.modelo.horarios[o]=e.horarios[o];this.modelo.assinaladosView=[{teste:!1},{teste:!1},{teste:!1},{teste:!1},{teste:!1},{teste:!1},{teste:!1},{teste:!1}];for(var t=0;t<e.assinalados.length;t++)this.modelo.assinaladosView[t].teste=e.assinalados[t]},excluiModel:function(e){var o=this;this.$q.dialog({title:"Excluir",message:"Confirma a exclusão?.",ok:"Confirmo",cancel:"Cancelo"}).then(function(){l()({method:"delete",url:"https://estagio-back.herokuapp.com//horario/"+e,headers:{"content-Type":"application/json",Accept:"application/json"}}).then(function(e){o.$q.notify({color:"positive",message:"Excluido com sucesso"}),o.request()}).catch(function(){o.$q.notify("Erro ao excluir!")})}).catch(function(){o.$q.notify({color:"positive",message:"Exclusão Cancelada..."})})}},beforeMount:function(){this.getlocal(),this.getresponsavel(),this.fetchData(),this.request()}},c=r,d=(t("9ERO"),t("KHd+")),m=Object(d["a"])(c,s,a,!1,null,null,null);o["default"]=m.exports},"9ERO":function(e,o,t){"use strict";var s=t("yrj4"),a=t.n(s);a.a},yrj4:function(e,o,t){}}]);