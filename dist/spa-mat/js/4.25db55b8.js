(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{V5gj:function(o,e,a){"use strict";a.r(e);var t=function(){var o=this,e=o.$createElement,a=o._self._c||e;return a("div",[a("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"keyboard_arrow_left"},on:{click:function(e){o.opened=!0}}}),a("q-modal",{attrs:{"content-css":{minWidth:"80vw",minHeight:"80vh"}},model:{value:o.opened,callback:function(e){o.opened=e},expression:"opened"}},[a("q-modal-layout",[a("q-toolbar",{attrs:{slot:"header"},slot:"header"},[a("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"keyboard_arrow_left"},on:{click:function(e){o.opened=!1}}}),a("q-toolbar-title",[o._v("\n          Lançamento de Ocorrências\n        ")])],1),a("q-toolbar",{attrs:{slot:"footer"},slot:"footer"},[a("div",{staticClass:"row q-pa-lg gutter-sm justify-center wrap"},[a("div",{staticClass:"col-auto inline"},[a("q-btn",{attrs:{color:"secondary",label:"Concluir"},on:{click:o.salvar}})],1),a("div",{staticClass:"col-auto inline"},[a("q-btn",{attrs:{color:"negative",label:"Cancelar"},on:{click:function(e){o.opened=!1}}})],1)])]),a("div",{staticClass:"layout-padding row q-pa-lg gutter-sm"},[a("div",{staticClass:"col-xs-12 col-sm-6"},[a("q-field",{attrs:{helper:"Selecione o funcionário","error-label":"Some error"}},[a("q-select",{attrs:{options:o.funcionarios,disable:0===o.funcionarios.length,filter:"","autofocus-filter":"","float-label":"Funcionários"},model:{value:o.modeloLanc.funcionario,callback:function(e){o.$set(o.modeloLanc,"funcionario",e)},expression:"modeloLanc.funcionario"}})],1)],1),a("div",{staticClass:"col-xs-12 col-sm-6"},[a("q-field",{attrs:{helper:"Selecione a ocorrência","error-label":"Some error"}},[a("q-select",{attrs:{options:o.ocorrencias,disable:0===o.ocorrencias.length,filter:"","autofocus-filter":"","float-label":"Ocorrência"},model:{value:o.modeloLanc.ocorrencia,callback:function(e){o.$set(o.modeloLanc,"ocorrencia",e)},expression:"modeloLanc.ocorrencia"}})],1)],1),a("div",{staticClass:"col-xs-12 col-sm-6 mt-sm"},[a("q-datetime-picker",{staticClass:"fit",attrs:{type:"date"},model:{value:o.modeloLanc.dataOcorrencia,callback:function(e){o.$set(o.modeloLanc,"dataOcorrencia",e)},expression:"modeloLanc.dataOcorrencia"}})],1),a("div",{staticClass:"col-xs-12 col-sm-6"},[a("q-field",{attrs:{count:2500,helper:"Observações","error-label":"Some error"}},[a("q-input",{attrs:{"float-label":"Considerações:",maxlength:"2500",type:"textarea"},model:{value:o.modeloLanc.observacoes,callback:function(e){o.$set(o.modeloLanc,"observacoes",e)},expression:"modeloLanc.observacoes"}})],1)],1)])],1)],1)],1)},n=[];t._withStripped=!0;var r=a("vDqi"),c=a.n(r),s={data:function(){return{modeloLanc:{funcionario:"",ocorrencia:"",dataOcorrencia:"",observacoes:""},funcionarios:[],ocorrencias:[],opened:!1}},methods:{salvar:function(){var o=this;c()({baseURL:this.modeloLanc.id?"https://estagio-back.herokuapp.com//lancamentoocorrencia/"+this.modeloLanc.id:"https://estagio-back.herokuapp.com//lancamentoocorrencia",timeout:1e4,method:this.modeloLanc.id?"PUT":"POST",withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json"},data:JSON.stringify(this.modeloLanc)}).then(function(e){console.log(e),o.$q.notify({color:"positive",position:"top",message:"Gravado com sucesso",icon:"report_problem"}),o.opened=!1,o.clear()}).catch(function(e){e.response?(console.log(e.response.data),console.log(e.response.status),console.log(e.response.headers)):e.request?console.log(e.request):console.log("Error",e.message),console.log(e.config),o.$q.notify({color:"negative",position:"top",message:"Erro ao gravar",icon:"report_problem"})})},atualizaModel:function(){var o=this;c.a.get("https://estagio-back.herokuapp.com//funcionario").then(function(e){o.funcionarios=[];for(var a=JSON.parse(JSON.stringify(e.data)),t=0;t<a.length;t++){var n=a[t];o.funcionarios.push({label:n.nome,value:n})}}).catch(function(e){o.funcionarios=[{nome:"teste",descricao:"error"}],console.log(e)}),c.a.get("https://estagio-back.herokuapp.com//ocorrencia").then(function(e){o.ocorrencias=[];for(var a=JSON.parse(JSON.stringify(e.data)),t=0;t<a.length;t++){var n=a[t];o.ocorrencias.push({label:n.nome,value:n})}}).catch(function(e){o.ocorrencias=[{nome:"teste",descricao:"error",text:"error"}],console.log(e)})},clear:function(){this.modeloLanc={funcionario:"",ocorrencia:"",dataOcorrencia:"",observacoes:""}}},beforeMount:function(){this.atualizaModel()}},i=s,l=a("KHd+"),d=Object(l["a"])(i,t,n,!1,null,null,null);e["default"]=d.exports}}]);